@model IEnumerable<TrainigSectorDataEntry.ViewModel.NewsVM>
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@using Microsoft.Extensions.Localization


@inject IStringLocalizer<SharedResource> Localizer
@{
    var culture = System.Threading.Thread.CurrentThread.CurrentCulture.TwoLetterISOLanguageName;
}
@{
    var breadcrumb = (TrainigSectorWebSite.ViewModel.Breadcrumb)ViewData["Breadcrumb"];
}
<div class="container content height-500">
    <div class="profile">
        <div class="profile-body">
            <div class="profile-bio">
                <div id="sky-form3">
                    <fieldset>

                        <div class="text-center margin-bottom-25 ">
                            <div class="headline-center-v2 headline-center-v2-dark title">
                                <h2 class="color-orange">
                                    @Localizer["News"]</h2>
                                <span class="bordered-icon"><i class="fa fa-th-large"></i></span>
                            </div>
                        </div>



                        <div class="row news-v2">

                            @foreach (var news in Model)
                            {
                                <div class="col-md-4 sm-margin-bottom-30">
                                    <div class="news-v2-badge">
                                        <img class="img-responsive" src="/News/GetImage?fileName=@news.NewsImages.FirstOrDefault()?.ImagePath" />
                                        <p>
                                            <span>@news.UserCreationDate?.Day</span>
                                            <small>@news.UserCreationDate?.ToString("MMMM", new System.Globalization.CultureInfo(culture))</small>
                                        </p>
                                    </div>
                                    <div class="news-v2-desc bg-color-light rtl">
                                        <h3>
                                            <a class="new-color">@((culture == "ar") ? news.TitleAr : news.TitleEn)</a>
                                        </h3>
                                        <p>@((culture == "ar") ? news.ShortDescriptionAr : news.ShortDescriptionEn)</p>
                                    </div>
                                </div>

        





                            }
                          


                        </div>
                        <div class="text-center">
                            <ul class="pagination">
                                @if (ViewBag.Page > 1)
                                {
                                    <li>
                                        <a href="@Url.Action("Index", new { page = ViewBag.Page - 1 })">&laquo; السابق</a>
                                    </li>
                                }

                                @for (int i = 1; i <= ViewBag.TotalPages; i++)
                                {
                                    <li class="@(i == ViewBag.Page ? "active" : "")">
                                        <a href="@Url.Action("Index", new { page = i })">@i</a>
                                    </li>
                                }

                                @if (ViewBag.Page < ViewBag.TotalPages)
                                {
                                    <li>
                                        <a href="@Url.Action("Index", new { page = ViewBag.Page + 1 })">التالي &raquo;</a>
                                    </li>
                                }
                            </ul>
                        </div>


                   




                    </fieldset>

                </div>
                <!--=== End News Block ===-->

            </div>

        </div>
    </div>
</div>